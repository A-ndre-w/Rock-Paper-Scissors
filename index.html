<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Page Title</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="fade">Let's play a game of Rock, Paper, Scissors!
    Please make your choice:</div>
    <button class="button" >Rock</button>
    <button class="button" >Paper</button>
    <button class="button" >Scissors</button>
    <div class="points">
      <div class="player-points">Your Points: <span class="player-points-value"></span></div>
      <div class="computer-points">Computer Points: <span class="computer-points-value"></span></div>
    </div>
    <div class="choices">
      <div class="playerchoice">
        <div class="playertext"></div>
        <div class="playericon">
          <img src="https://www.nicepng.com/png/detail/6-61708_rock-rock-paper-scissors-clipart.png" alt="" class="rock-img hidden fade">
          <img src="https://www.vhv.rs/dpng/d/490-4906131_rock-paper-scissors-clipart-rock-paper-scissors-png.png" alt="" class="paper-img hidden fade">
          <img src="https://www.seekpng.com/png/detail/111-1114370_rock-paper-scissors-rock-paper-scissors-clipart.png" alt="" class="scissors-img hidden fade">
        </div>
      </div>
      <div class="compchoice">
        <div class="comptext"></div>
        <div class="compicon"></div>
      </div>
    </div>
    <div class="results"></div>


  </div>

  
  <script>

    // select the three buttons and the divs, add an eventlistener to the three buttons which starts the round

    [...document.querySelectorAll("button")].forEach(function(item) {
      item.addEventListener('click', startRound)
    });

    const div = document.querySelector(".playertext");
    const div2 = document.querySelector(".comptext");
    const div3 = document.querySelector(".results");

    // select the three icons

    const rockImg = document.querySelector(".rock-img")
    const paperImg = document.querySelector(".paper-img")
    const scissorsImg = document.querySelector(".scissors-img")

    // select point counters

    let playerPoints = document.querySelector(".player-points-value")
    let computerPoints = document.querySelector(".computer-points-value")

    let playercounter = 0;
    let computercounter = 0;

    playerPoints.innerHTML = playercounter;
    computerPoints.innerHTML = computercounter;

    // create a  getComputerChoice function that returns either Rock, Paper or Scissors

    function getComputerChoice() {
      const choice = ['rock' , 'paper' , 'scissors'];
      let random = Math.floor(Math.random() * choice.length);
      return choice[random];
    };

    // create a  function that confronts player selection with computer selection

    function confrontSelection(playerSelection, computerSelection) {

      if ((playerSelection === 'rock' && computerSelection === 'paper') || (playerSelection === 'paper' && computerSelection === 'scissors') || (playerSelection === 'scissors' && computerSelection === 'rock')) {
        div3.classList.remove("win")
        div3.classList.add("lose")

        // raise the computer point counter by one
        computercounter += 1;
        computerPoints.innerHTML = computercounter;

        return `You lose! ${computerSelection} beats ${playerSelection}!`;
      } else if ((computerSelection === 'rock' && playerSelection === 'paper') || (computerSelection === 'paper' && playerSelection === 'scissors') || (computerSelection === 'scissors' && playerSelection === 'rock')) {
        
        div3.classList.remove("lose")
        div3.classList.add("win");
        
        // raise the player point counter by one
        playercounter += 1;
        playerPoints.innerHTML = playercounter;

        return `You win! ${playerSelection} beats ${computerSelection}!`;
      } else {
        div3.classList.remove("lose")
        div3.classList.remove("win");
        return "It's a tie!";
      }
    };

    // create a  function that starts a round. 


    function startRound() {
      div.textContent = "";
      div2.textContent = "";
      div3.textContent = "";


      document.querySelectorAll("button").forEach((button) => { button.disabled = true })
      div.classList.add("fade");
      const playerSelection = this.textContent.toLowerCase();
      const computerSelection = getComputerChoice()
      div.textContent = `You selected: ${playerSelection}`;
      
      // show rock/paper/scissors image depending on choice
    
      if (playerSelection === "rock") {
        paperImg.classList.add("hidden")  
        scissorsImg.classList.add("hidden")  
        rockImg.classList.remove("hidden")    
      } else if (playerSelection === "scissors") {
        paperImg.classList.add("hidden")  
        rockImg.classList.add("hidden")
        scissorsImg.classList.remove("hidden")   
        } else if (playerSelection === "paper") {
          rockImg.classList.add("hidden")  
          scissorsImg.classList.add("hidden")
          paperImg.classList.remove("hidden")   
          }

      // set timeout to delay computer selection and results


      setTimeout(() => { 
        div2.classList.add("fade");
        div2.textContent = `Your opponent selected: ${computerSelection}`;
      } , 1000)
      setTimeout(() => { 
        div3.textContent = confrontSelection(playerSelection, computerSelection) 
        div3.classList.add("fade");
      }, 2000)
      setTimeout(removeFadeClass, 3000)
      setTimeout(() => { document.querySelectorAll("button").forEach((button) => { button.disabled = false }) }, 3000)
    };

    // create functions that add and remove the fade class so to give the fade effect to popup text

    function addFadeClass() {
      div.classList.add("fade");
      div2.classList.add("fade");
      div3.classList.add("fade");
    }

    function removeFadeClass() {
      div.classList.remove("fade");
      div2.classList.remove("fade");
      div3.classList.remove("fade");
    }

    // create functions to show computerselection and the result, while fading in text

    function showCompSel() {
      
    }
    
  </script>

</body>
</html>